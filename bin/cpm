#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program = require('commander')
  , mkdir = require('mkdirp').sync
  , pkg = require('../package')
  , cpm = require('..')

// options

program
  .version(pkg.version)
  .usage('[options] [repo ...]')
  .option('-o, --out <dir>', 'change the output directory [deps]', 'deps')
  .parse(process.argv);

// args

var args = program.args;

// zero args

if (!args.length) program.help();

// install

console.log();
mkdir(program.out);
args.forEach(function(name){
  cpm.install(name, { to: program.out });
});

// exit

process.on('exit', function(){
  console.log();
});